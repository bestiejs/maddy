(function(d,k){typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(["exports"],k):k=k(typeof exports=="object"&&exports||(d.Maddy={noConflict:function(o){return function(){d.Maddy=o;delete k.a;return k}}(d.Maddy)}))})(this,function(d){function k(c){switch(m(c)){case "Null":case "Undefined":return!0;case "Number":case "Date":return c=+c,c!=c||c==p||c==-p;case "Boolean":case "Function":case "RegExp":return!1;case "String":case "Array":return!c.length;default:return q(function(){return!1},
c)}}function o(c,b,a){arguments.length<3&&(a=b,b=h);return l(function(a,i,f,e){return a[i]=c.call(b,i,f,e),a},{},a)}function l(c,b,a,g){var i=arguments.length;if(i<3)throw new TypeError("Invalid argument.");i==3&&(g=a,a=b,b=h);n(function(g,e,i){return a=c.call(b,a,g,e,i)},g);return a}function q(c,b,a){var g=!0;arguments.length<3&&(a=b,b=h);n(function(a,f,e){return g=!!c.call(b,a,f,e)},a);return g}d.version="0.3.0";var r={}.toString,s=r.apply,t=[].slice,p=1/0,h=null,j=d.isPropertyOf=function(){var c=
{},b=c.hasOwnProperty;return r.call(b)=="[object Function]"?function(a,c){if(a!==Object(a))throw new TypeError("Invalid argument.");return b.call(a,c)}:(c.__proto__=h,!("toString"in c))?function(a,b){var c,f;if(a!==Object(a))throw new TypeError("Invalid argument.");c=a.__proto__;f=b in(a.__proto__=h,a);a.__proto__=c;return f}:function(a,b){if(a!==Object(a))throw new TypeError("Invalid argument.");var c=(a.constructor||Object).prototype;return b in a&&!(b in c&&a[b]===c[b])}}(),m=d.getClassOf=function(){var c=
{undefined:"Undefined","[object Function]":"Function","[object Array]":"Array","[object Date]":"Date","[object RegExp]":"RegExp"};c.string=c["[object String]"]="String";c["boolean"]=c["[object Boolean]"]="Boolean";c.number=c["[object Number]"]="Number";return function(b){var a;if(b===h)return"Null";a=typeof b;if(j(c,a))return c[a];a=r.call(b);return j(c,a)?c[a]:"Object"}}(),n=d.forEach=function(){function c(){this.valueOf=0}var b=c.prototype.valueOf=0,a=new c,g;for(g in a)j(a,g)&&b++;b?b=b==2?function(a,
b,e){var c,g,d;arguments.length<3&&(e=b,b=h);if(e!==Object(e))throw new TypeError("Invalid argument.");c={};g=m(e)=="Function";for(d in e)if(!(g&&d=="prototype")&&!j(c,d)&&(c[d]=1)&&j(e,d)&&a.call(b,d,e[d],e)===!1)break}:function(a,b,c){var g,d,u;arguments.length<3&&(c=b,b=h);if(c!==Object(c))throw new TypeError("Invalid argument.");g=m(c)=="Function";for(d in c)if(!(g&&d=="prototype")&&j(c,d)&&!(u=d=="constructor")&&a.call(b,d,c[d],c)===!1)return;(u||j(c,"constructor"))&&a.call(b,"constructor",c.constructor,
c)}:(a="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),b=function(b,c,e){var g,d;arguments.length<3&&(e=c,c=h);if(e!==Object(e))throw new TypeError("Invalid argument.");for(d in e)if(j(e,d)&&b.call(c,d,e[d],e)===!1)return;for(g=0;d=a[g++];)if(j(e,d)&&b.call(c,d,e[d],e)===!1)break});return b}();d.isEqual=function(){function c(b,a,g){var d,f,e;if(b===a)return b!==0||1/b==1/a;d=m(b);if(d!=m(a))return!1;switch(d){case "Null":case "Undefined":return b==
a;case "String":return String(b)==String(a);case "Number":case "Boolean":return b=+b,a=+a,b!=b?a!=a:b==a;case "Date":return+b==+a;case "RegExp":return b.source==a.source&&b.global==a.global&&b.multiline==a.multiline&&b.ignoreCase==a.ignoreCase}if(typeof b!="object")return!1;for(e=g.length;e--;)if(g[e]==b)return!0;g.push(b);f=!0;e=0;if(d=="Array"){if(e=b.length,f=e==a.length)for(;e--;)if(!(f=e in b==e in a&&c(b[e],a[e],g)))break}else if(f=q(function(b,d){e++;return j(a,b)&&c(d,a[b],g)},b))q(function(){return e--},
a),f=!e;g.pop();return f}return function(b,a){return c(b,a,[])}}();d.stringify=function(){function c(b,a){return("0000"+String(a)).slice(-b)}function b(b){for(var b=String(b),a='"',c=i.lastIndex=0,e;e=i.exec(b);)a+=b.slice(c,c=e.index)+d[e=e[0]],c=i.lastIndex=c+e.length;c<b.length&&(a+=b.slice(c));return a+'"'}function a(e,d){var g=m(e),f;switch(g){case "Number":case "Boolean":return k(e)?"null":String(e);case "String":return b(e);case "Date":return k(e)?"null":'"'+e.getUTCFullYear()+"-"+c(2,e.getUTCMonth()+
1)+"-"+c(2,e.getUTCDate())+"T"+c(2,e.getUTCHours())+":"+c(2,e.getUTCMinutes())+":"+c(2,e.getUTCSeconds())+"."+c(3,e.getUTCMilliseconds())+'Z"';case "RegExp":return'{"source": '+b(e.source)+', "global": '+e.global+', "ignoreCase": '+e.ignoreCase+', "multiline": '+e.multiline+"}"}if(typeof e=="object"&&e){for(f=d.length;f--;)if(d[f]==e)return"null";d.push(e);if(g=="Array"){g=[];for(f=e.length;f--;)f in e&&(g[f]=a(e[f],d));return"["+g.join(", ")+"]"}else return"{"+l(function(c,e,g){return c.push(b(e)+
": "+a(g,d)),c},[],e).join(", ")+"}"}return"null"}for(var d={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i=/[\x00-\x1f"\\]/g,f=32,e;f--;e=String.fromCharCode(f))d[e]||(d[e]="\\u"+c(4,f.toString(16)));return function(b){return a(b,[])}}();d.isEmpty=k;d.keys=function(c){return l(function(b,a){return b.push(a),b},[],c).sort()};d.extend=function(c){function b(b,a){c[b]=a}for(var a=1,d=arguments.length;a<d;a++)n(b,arguments[a]);return c};d.map=d.collect=o;d.fold=
d.inject=d.reduce=l;d.some=d.any=function(c,b,a){var d=!1;arguments.length<3&&(a=b,b=h);n(function(a,f,e){return!(d=!!c.call(b,a,f,e))},a);return d};d.select=d.findAll=d.filter=function(c,b,a){arguments.length<3&&(a=b,b=h);return l(function(a,d,f,e){return c.call(b,d,f,e)&&(a[d]=f),a},{},a)};d.invoke=d.send=function(c,b){var a=t.call(arguments,2);return o(function(c,d){return s.call(d[b],d,a)},c)};d.all=d.every=q;d.reject=function(c,b,a){arguments.length<3&&(a=b,b=h);return l(function(a,d,f,e){return!c.call(b,
d,f,e)&&(a[d]=f),a},{},a)};d.max=function(c,b,a){var d;arguments.length<3&&(a=b,b=h);l(function(a,f,e,h){e=c.call(b,f,e,h);e>a&&(a=e,d=f);return a},-p,a);return d};d.min=function(c,b,a){var d;arguments.length<3&&(a=b,b=h);l(function(a,f,e,h){e=c.call(b,f,e,h);e<a&&(a=e,d=f);return a},p,a);return d};d.partition=function(c,b,a){var d={},i={};arguments.length<3&&(a=b,b=h);n(function(a,e,h){(c.call(b,a,e,h)?d:i)[a]=e},a);return[d,i]};d.groupBy=function(c,b,a){arguments.length<3&&(a=b,b=h);return l(function(a,
d,f,e){e=c.call(b,d,f,e);return(a[e]||(a[e]={}))[d]=f,a},{},a)};d.curry=function(c){var b,a;b=t.call(arguments,1);return!(a=b.length)?c:function(){var d=arguments.length;if(d)for(;d--;)b[a+d]=arguments[d];return s.call(c,this,b)}};return d});
