<!DOCTYPE html>
<html lang=en>
  <head>
    <meta charset=utf-8>
    <title>Maddy Unit Tests</title>
    <link rel=stylesheet href=vendor/spec.css media=screen>
  </head>
  <body>
    <h1 id=header>Maddy Unit Tests</h1>
    <div id=status></div>
    <ol id=results></ol>
    <p id=stats></p>
    <script>var Associative = {}, curl = {"apiName": "require"};</script>
    <script src=../lib/maddy.js></script>
    <script src=vendor/curl.js></script>
    <script src=vendor/spec.js></script>
    <script>
    if (/[?&]async=false(?:&|$)/.test(this.location.search)) {
      this.require = this.define = null;
      document.write("<script src=\"tests.js\"><\/script>");
    } else {
      this.require({
        // Both RequireJS and `curl.js` accept a `paths` map of module paths to relative paths.
        // This is necessary for loading Maddy as a named module.
        "paths": {
          "maddy": "../lib/maddy"
        },
        // Thwart aggressive resource caching. RequireJS only.
        "urlArgs": "async=" + (+new Date)
      }, ["maddy", "tests"], function (Maddy, tests) {
        Associative = Maddy;
        tests.run();
      });
    }
    </script>
  </body>
</html>